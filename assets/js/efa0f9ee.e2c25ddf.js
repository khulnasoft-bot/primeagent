"use strict";(globalThis.webpackChunkprimeagent_docs=globalThis.webpackChunkprimeagent_docs||[]).push([[3368],{11333(e,n,t){t.d(n,{A:()=>r});const r=t.p+"assets/images/mcp-server-tools-ddc0f1dc04109b9f3daf6a2f380073c4.png"},24839(e,n,t){t.d(n,{A:()=>w});var r=t(79474),s=t(13526),o=t(2428),i=t(50571),l=t(20241),c=t(78741),a=t(92636),d=t(94949),h=t(32290);function u(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function p(e){const{values:n,children:t}=e;return(0,r.useMemo)(()=>{const e=n??function(e){return u(e).map(({props:{value:e,label:n,attributes:t,default:r}})=>({value:e,label:n,attributes:t,default:r}))}(t);return function(e){const n=(0,d.XI)(e,(e,n)=>e.value===n.value);if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[n,t])}function x({value:e,tabValues:n}){return n.some(n=>n.value===e)}function j({queryString:e=!1,groupId:n}){const t=(0,l.W6)(),s=function({queryString:e=!1,groupId:n}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:e,groupId:n});return[(0,a.aZ)(s),(0,r.useCallback)(e=>{if(!s)return;const n=new URLSearchParams(t.location.search);n.set(s,e),t.replace({...t.location,search:n.toString()})},[s,t])]}function m(e){const{defaultValue:n,queryString:t=!1,groupId:s}=e,o=p(e),[i,l]=(0,r.useState)(()=>function({defaultValue:e,tabValues:n}){if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!x({value:e,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${n.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const t=n.find(e=>e.default)??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:n,tabValues:o})),[a,d]=j({queryString:t,groupId:s}),[u,m]=function({groupId:e}){const n=function(e){return e?`docusaurus.tab.${e}`:null}(e),[t,s]=(0,h.Dv)(n);return[t,(0,r.useCallback)(e=>{n&&s.set(e)},[n,s])]}({groupId:s}),g=(()=>{const e=a??u;return x({value:e,tabValues:o})?e:null})();(0,c.A)(()=>{g&&l(g)},[g]);return{selectedValue:i,selectValue:(0,r.useCallback)(e=>{if(!x({value:e,tabValues:o}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),m(e)},[d,m,o]),tabValues:o}}var g=t(67543);const f="tabList__oVH",v="tabItem_H0kA";var y=t(13274);function P({className:e,block:n,selectedValue:t,selectValue:r,tabValues:o}){const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),a=e=>{const n=e.currentTarget,s=l.indexOf(n),i=o[s].value;i!==t&&(c(n),r(i))},d=e=>{let n=null;switch(e.key){case"Enter":a(e);break;case"ArrowRight":{const t=l.indexOf(e.currentTarget)+1;n=l[t]??l[0];break}case"ArrowLeft":{const t=l.indexOf(e.currentTarget)-1;n=l[t]??l[l.length-1];break}}n?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},e),children:o.map(({value:e,label:n,attributes:r})=>(0,y.jsx)("li",{role:"tab",tabIndex:t===e?0:-1,"aria-selected":t===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:a,...r,className:(0,s.A)("tabs__item",v,r?.className,{"tabs__item--active":t===e}),children:n??e},e))})}function b({lazy:e,children:n,selectedValue:t}){const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(e){const e=o.find(e=>e.props.value===t);return e?(0,r.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:o.map((e,n)=>(0,r.cloneElement)(e,{key:n,hidden:e.props.value!==t}))})}function C(e){const n=m(e);return(0,y.jsxs)("div",{className:(0,s.A)(o.G.tabs.container,"tabs-container",f),children:[(0,y.jsx)(P,{...n,...e}),(0,y.jsx)(b,{...n,...e})]})}function w(e){const n=(0,g.A)();return(0,y.jsx)(C,{...e,children:u(e.children)},String(n))}},41831(e,n,t){t.d(n,{A:()=>r});const r=t.p+"assets/images/mcp-server-53850e4ac7599dec00dd7d01922ba79f.png"},59284(e,n,t){t.d(n,{A:()=>i});t(79474);var r=t(13526);const s="tabItem_n5nd";var o=t(13274);function i({children:e,hidden:n,className:t}){return(0,o.jsx)("div",{role:"tabpanel",className:(0,r.A)(s,t),hidden:n,children:e})}},61163(e,n,t){t.r(n),t.d(n,{CH:()=>p,assets:()=>u,chCodeConfig:()=>x,contentTitle:()=>h,default:()=>g,frontMatter:()=>d,metadata:()=>r,toc:()=>j});const r=JSON.parse('{"id":"Agents/mcp-server","title":"Use Primeagent as an MCP server","description":"Primeagent integrates with the Model Context Protocol (MCP) as both an MCP server and an MCP client.","source":"@site/docs/Agents/mcp-server.mdx","sourceDirName":"Agents","slug":"/mcp-server","permalink":"/mcp-server","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Use Primeagent as an MCP server","slug":"/mcp-server"},"sidebar":"docs","previous":{"title":"Use Primeagent as an MCP client","permalink":"/mcp-client"},"next":{"title":"Connect an Astra DB MCP server to Primeagent","permalink":"/mcp-component-astra"}}');var s=t(13274),o=t(57855),i=t(2087),l=t(24839),c=t(59284),a=t(74493);const d={title:"Use Primeagent as an MCP server",slug:"/mcp-server"},h=void 0,u={},p={annotations:i.hk,Code:i.Cy},x={staticMediaQuery:"not screen, (max-width: 768px)",lineNumbers:!0,showCopyButton:!0,themeName:"github-dark"},j=[{value:"Prerequisites",id:"prerequisites",level:2},{value:"Serve flows as MCP tools",id:"select-flows-to-serve",level:2},{value:"Prevent automatic MCP server configuration for Primeagent projects",id:"prevent-automatic-mcp-server-configuration-for-primeagent-projects",level:3},{value:"Selectively enable and disable MCP servers for Primeagent projects",id:"selectively-enable-and-disable-mcp-servers-for-primeagent-projects",level:3},{value:"Edit flow tool names and descriptions",id:"edit-flow-tool-names-and-descriptions",level:3},{value:"Importance of tool names and descriptions",id:"importance-of-tool-names-and-descriptions",level:4},{value:"Connect clients to your Primeagent MCP server",id:"connect-clients-to-use-the-servers-actions",level:2},{value:"MCP server authentication",id:"authentication",level:2},{value:"MCP server environment variables",id:"mcp-server-environment-variables",level:2},{value:"Deploy your Primeagent MCP server externally",id:"deploy-your-server-externally",level:3},{value:"Use MCP Inspector to test and debug flows",id:"test-and-debug-flows",level:2},{value:"Troubleshoot Primeagent MCP servers",id:"troubleshooting-mcp-server",level:2},{value:"See also",id:"see-also",level:2}];function m(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",h4:"h4",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,o.R)(),...e.components},{Details:r}=n;return p||f("CH",!1),p.Code||f("CH.Code",!0),r||f("Details",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("style",{dangerouslySetInnerHTML:{__html:'[data-ch-theme="github-dark"] {  --ch-t-colorScheme: dark;--ch-t-foreground: #c9d1d9;--ch-t-background: #0d1117;--ch-t-lighter-inlineBackground: #0d1117e6;--ch-t-editor-background: #0d1117;--ch-t-editor-foreground: #c9d1d9;--ch-t-editor-lineHighlightBackground: #6e76811a;--ch-t-editor-rangeHighlightBackground: #ffffff0b;--ch-t-editor-infoForeground: #3794FF;--ch-t-editor-selectionBackground: #264F78;--ch-t-focusBorder: #1f6feb;--ch-t-tab-activeBackground: #0d1117;--ch-t-tab-activeForeground: #c9d1d9;--ch-t-tab-inactiveBackground: #010409;--ch-t-tab-inactiveForeground: #8b949e;--ch-t-tab-border: #30363d;--ch-t-tab-activeBorder: #0d1117;--ch-t-editorGroup-border: #30363d;--ch-t-editorGroupHeader-tabsBackground: #010409;--ch-t-editorLineNumber-foreground: #6e7681;--ch-t-input-background: #0d1117;--ch-t-input-foreground: #c9d1d9;--ch-t-input-border: #30363d;--ch-t-icon-foreground: #8b949e;--ch-t-sideBar-background: #010409;--ch-t-sideBar-foreground: #c9d1d9;--ch-t-sideBar-border: #30363d;--ch-t-list-activeSelectionBackground: #6e768166;--ch-t-list-activeSelectionForeground: #c9d1d9;--ch-t-list-hoverBackground: #6e76811a;--ch-t-list-hoverForeground: #c9d1d9; }'}}),"\n","\n",(0,s.jsxs)(n.p,{children:["Primeagent integrates with the ",(0,s.jsx)(n.a,{href:"https://modelcontextprotocol.io/introduction",children:"Model Context Protocol (MCP)"})," as both an MCP server and an MCP client."]}),"\n",(0,s.jsxs)(n.p,{children:["This page describes how to use Primeagent as an MCP server that exposes your flows as ",(0,s.jsx)(n.a,{href:"https://modelcontextprotocol.io/docs/concepts/tools",children:"tools"})," that ",(0,s.jsx)(n.a,{href:"https://modelcontextprotocol.io/clients",children:"MCP clients"})," can use when generating responses."]}),"\n",(0,s.jsxs)(n.p,{children:["Primeagent MCP servers support both the ",(0,s.jsx)(n.strong,{children:"streamable HTTP"})," transport and ",(0,s.jsx)(n.strong,{children:"Server-Sent Events (SSE)"})," as a fallback."]}),"\n",(0,s.jsxs)(n.p,{children:["For information about using Primeagent as an MCP client and managing MCP server connections within flows, see ",(0,s.jsx)(n.a,{href:"/mcp-client",children:"Use Primeagent as an MCP client"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"prerequisites",children:"Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["A ",(0,s.jsx)(n.a,{href:"/concepts-flows#projects",children:"Primeagent project"})," with at least one flow that has a ",(0,s.jsxs)(n.a,{href:"/chat-input-and-output",children:[(0,s.jsx)(n.strong,{children:"Chat Output"})," component"]}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Chat Output"})," component is required to use a flow as an MCP tool."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Any LTS version of ",(0,s.jsx)(n.a,{href:"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm",children:"Node.js"})," installed on your computer if you want to use MCP Inspector to ",(0,s.jsx)(n.a,{href:"#test-and-debug-flows",children:"test and debug flows"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://ngrok.com/docs/getting-started/#1-install-ngrok",children:"ngrok installed"})," and an ",(0,s.jsx)(n.a,{href:"https://dashboard.ngrok.com/get-started/your-authtoken",children:"ngrok authtoken"})," if you want to ",(0,s.jsx)(n.a,{href:"/deployment-public-server",children:"deploy a public Primeagent server"}),"."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"select-flows-to-serve",children:"Serve flows as MCP tools"}),"\n",(0,s.jsxs)(n.p,{children:["When you create a ",(0,s.jsx)(n.a,{href:"/concepts-flows#projects",children:"Primeagent project"}),", Primeagent automatically adds the project to your MCP server's configuration and makes the project's flows available as MCP tools."]}),"\n",(0,s.jsxs)(n.p,{children:["If your Primeagent server has authentication enabled (",(0,s.jsx)(n.code,{children:"AUTO_LOGIN=false"}),"), the project's MCP server is automatically configured with API key authentication, and a new API key is generated specifically for accessing the new project's flows.\nFor more information, see ",(0,s.jsx)(n.a,{href:"#authentication",children:"MCP server authentication"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"prevent-automatic-mcp-server-configuration-for-primeagent-projects",children:"Prevent automatic MCP server configuration for Primeagent projects"}),"\n",(0,s.jsxs)(n.p,{children:["To disable automatic MCP server configuration for new projects, set the ",(0,s.jsx)(n.code,{children:"PRIMEAGENT_ADD_PROJECTS_TO_MCP_SERVERS"})," environment variable to ",(0,s.jsx)(n.code,{children:"false"}),".\nFor more information, see ",(0,s.jsx)(n.a,{href:"#mcp-server-environment-variables",children:"MCP server environment variables"}),"."]}),"\n",(0,s.jsx)(n.h3,{id:"selectively-enable-and-disable-mcp-servers-for-primeagent-projects",children:"Selectively enable and disable MCP servers for Primeagent projects"}),"\n",(0,s.jsx)(n.p,{children:"With or without automatic MCP server configuration enabled, you can selectively enable and disable the projects that are exposed as MCP tools:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click the ",(0,s.jsx)(n.strong,{children:"MCP Server"})," tab on the ",(0,s.jsxs)(n.a,{href:"/concepts-flows#projects",children:[(0,s.jsx)(n.strong,{children:"Projects"})," page"]}),", or, when editing a flow, click ",(0,s.jsx)(n.strong,{children:"Share"}),", and then select ",(0,s.jsx)(n.strong,{children:"MCP Server"}),"."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"MCP server projects page",src:t(41831).A+"",width:"4000",height:"2174"})}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"Flows/Tools"})," section lists the flows that are currently being served as tools on this MCP server."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["To toggle exposed flows, click ",(0,s.jsx)(a.A,{name:"Wrench","aria-hidden":"true"})," ",(0,s.jsx)(n.strong,{children:"Edit Tools"}),", and then select the flows that you want exposed as tools.\nTo prevent a flow from being used as a tool, clear the checkbox in the first column."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Close the ",(0,s.jsx)(n.strong,{children:"MCP Server Tools"})," dialog to save your changes."]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{alt:"MCP Server Tools",src:t(11333).A+"",width:"4000",height:"2030"})}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"edit-flow-tool-names-and-descriptions",children:"Edit flow tool names and descriptions"}),"\n",(0,s.jsx)(n.p,{children:"Tool names and descriptions help MCP clients determine which actions your flows provide and when to use those actions.\nIt is recommended to provide clear, descriptive names and descriptions for all tools that you serve to MCP clients."}),"\n",(0,s.jsx)(n.p,{children:"To edit the names and descriptions of flow tools on a Primeagent MCP server, do the following:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click the ",(0,s.jsx)(n.strong,{children:"MCP Server"})," tab on the ",(0,s.jsxs)(n.a,{href:"/concepts-flows#projects",children:[(0,s.jsx)(n.strong,{children:"Projects"})," page"]}),", or, when editing a flow, click ",(0,s.jsx)(n.strong,{children:"Share"}),", and then select ",(0,s.jsx)(n.strong,{children:"MCP Server"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(a.A,{name:"Wrench","aria-hidden":"true"})," ",(0,s.jsx)(n.strong,{children:"Edit Tools"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click the ",(0,s.jsx)(n.strong,{children:"Description"})," or ",(0,s.jsx)(n.strong,{children:"Tool"})," that you want to edit:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Tool name"}),": Enter a name that makes it clear what the flow does when used as a tool by an agent."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Tool description"}),": Enter a description that completely and accurately describes the specific actions the flow performs."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Close the ",(0,s.jsx)(n.strong,{children:"MCP Server Tools"})," dialog to save your changes."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"importance-of-tool-names-and-descriptions",children:"Importance of tool names and descriptions"}),"\n",(0,s.jsx)(n.p,{children:"MCP clients use tool names and descriptions to determine which actions to use when generating responses."}),"\n",(0,s.jsx)(n.p,{children:"Because MCP clients treat your Primeagent project as a single MCP server with all of your enabled flows listed as tools, unclear names and descriptions can cause the agent to select tools incorrectly or inconsistently."}),"\n",(0,s.jsxs)(n.p,{children:["For example, a flow's default tool name is the flow ID, such as ",(0,s.jsx)(n.code,{children:"adbbf8c7-0a34-493b-90ea-5e8b42f78b66"}),".\nThis provides no information to an agent about the type of flow or its purpose."]}),"\n",(0,s.jsx)(n.p,{children:"To provide more context about your flows, make sure to name and describe your flows clearly when configuring your Primeagent project's MCP server."}),"\n",(0,s.jsx)(n.p,{children:"Think of these names and descriptions as function names and code comments.\nUse clear statements to describe the problems your flows solve."}),"\n",(0,s.jsxs)(r,{children:[(0,s.jsx)("summary",{children:"Example: Tool name and description usage"}),(0,s.jsxs)(n.p,{children:["For example, assume you create a flow based on the ",(0,s.jsx)(n.strong,{children:"Document Q&A"})," template that uses an LLM to chat about resumes, and then you give the flow the following name and description:"]}),(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Tool name"}),": ",(0,s.jsx)(n.code,{children:"document_qa_for_resume"})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Tool description"}),": ",(0,s.jsx)(n.code,{children:"A flow for analyzing Emily's resume."})]}),"\n"]}),"\n"]}),(0,s.jsxs)(n.p,{children:["After connecting your Primeagent MCP server to Cursor, you can ask Cursor about the resume, such as ",(0,s.jsx)(n.code,{children:"What job experience does Emily have?"}),".\nUsing the context provided by your tool name and description, the agent can decide to use the ",(0,s.jsx)(n.code,{children:"document_qa_for_resume"})," MCP tool to create a response about Emily's resume.\nIf necessary, the agent asks permission to use the flow tool before generating the response."]}),(0,s.jsxs)(n.p,{children:["If you ask about a different resume, such as ",(0,s.jsx)(n.code,{children:"What job experience does Alex have?"}),", the agent can decide that ",(0,s.jsx)(n.code,{children:"document_qa_for_resume"})," isn't relevant to this request, because the tool description specifies that the flow is for Emily's resume.\nIn this case, the agent might use another available tool, or it can inform you that it doesn't have access to information about Alex's.\nFor example:"]}),(0,s.jsx)(p.Code,{codeConfig:x,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"I notice you're asking about Alex's job experience.",props:{}}]},{tokens:[{content:"Based on the available tools, I can see there is a Document QA for Resume flow that's designed for analyzing resumes.",props:{}}]},{tokens:[{content:"However, the description mentions it's for \"Emily's resume\" not Alex's. I don't have access to Alex's resume or job experience information.",props:{}}]}],lang:"text"},annotations:[]}]})]}),"\n","\n",(0,s.jsx)(n.h2,{id:"connect-clients-to-use-the-servers-actions",children:"Connect clients to your Primeagent MCP server"}),"\n",(0,s.jsx)(n.p,{children:"Primeagent provides automatic installation and code snippets to help you deploy your Primeagent MCP servers to your local MCP clients."}),"\n",(0,s.jsxs)(l.A,{children:[(0,s.jsxs)(c.A,{value:"JSON",label:"JSON",default:!0,children:[(0,s.jsxs)(n.p,{children:["The JSON option allows you to connect a Primeagent MCP server to any local or remote MCP client.\nYou can modify this process for any ",(0,s.jsx)(n.a,{href:"https://modelcontextprotocol.io/clients",children:"MCP-compatible client"}),"."]}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Install any ",(0,s.jsx)(n.a,{href:"https://modelcontextprotocol.io/clients",children:"MCP-compatible client"}),"."]}),"\n",(0,s.jsx)(n.p,{children:"These steps use Cursor as an example, but the process is generally the same for all clients, with slight differences in client-specific details like file names."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"In your client, add a new MCP server using the client's UI or configuration file."}),"\n",(0,s.jsxs)(n.p,{children:["For example, in Cursor, go to ",(0,s.jsx)(n.strong,{children:"Cursor Settings"}),", select ",(0,s.jsx)(n.strong,{children:"MCP"}),", and then click ",(0,s.jsx)(n.strong,{children:"Add New Global MCP Server"})," to open Cursor's global ",(0,s.jsx)(n.code,{children:"mcp.json"})," configuration file."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Recommended: Configure ",(0,s.jsx)(n.a,{href:"#authentication",children:"authentication"})," for your MCP server."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In Primeagent, on the ",(0,s.jsx)(n.strong,{children:"Projects"})," page, click the ",(0,s.jsx)(n.strong,{children:"MCP Server"})," tab."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click the ",(0,s.jsx)(n.strong,{children:"JSON"})," tab, copy the code snippet for your operating system, and then paste it into your client's MCP configuration file.\nFor example:"]}),"\n",(0,s.jsx)(p.Code,{codeConfig:x,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'  "mcpServers"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "PROJECT_NAME"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'      "command"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"uvx"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'      "args"',props:{style:{color:"#7EE787"}}},{content:": [",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'        "mcp-proxy"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'        "http://PRIMEAGENT_SERVER_ADDRESS/api/v1/mcp/project/PROJECT_ID/streamable"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"      ]",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"  }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]}],lang:"json"},annotations:[]}]}),"\n",(0,s.jsxs)(n.p,{children:["The ",(0,s.jsx)(n.strong,{children:"MCP Server"})," tab automatically populates the ",(0,s.jsx)(n.code,{children:"PRIMEAGENT_SERVER_ADDRESS"})," and ",(0,s.jsx)(n.code,{children:"PROJECT_ID"})," values."]}),"\n",(0,s.jsxs)(n.p,{children:["The default Primeagent server address is ",(0,s.jsx)(n.code,{children:"http://localhost:7860"}),".\nIf you are using a ",(0,s.jsx)(n.a,{href:"/deployment-public-server",children:"public Primeagent server"}),", the server address is automatically included."]}),"\n",(0,s.jsxs)(n.p,{children:["If your Primeagent server requires authentication, you must include your Primeagent API key or OAuth settings in the configuration.\nFor more information, see ",(0,s.jsx)(n.a,{href:"#authentication",children:"MCP server authentication"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["To include other environment variables with your MCP server command, add an ",(0,s.jsx)(n.code,{children:"env"})," object with key-value pairs of environment variables:"]}),"\n",(0,s.jsx)(p.Code,{codeConfig:x,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"{",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'  "mcpServers"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'    "PROJECT_NAME"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'      "command"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"uvx"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'      "args"',props:{style:{color:"#7EE787"}}},{content:": [",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'        "mcp-proxy"',props:{style:{color:"#A5D6FF"}}},{content:",",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'        "http://PRIMEAGENT_SERVER_ADDRESS/api/v1/mcp/project/PROJECT_ID/streamable"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"      ],",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'      "env"',props:{style:{color:"#7EE787"}}},{content:": {",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:'        "KEY"',props:{style:{color:"#7EE787"}}},{content:": ",props:{style:{color:"#C9D1D9"}}},{content:'"VALUE"',props:{style:{color:"#A5D6FF"}}}]},{tokens:[{content:"      }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"    }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"  }",props:{style:{color:"#C9D1D9"}}}]},{tokens:[{content:"}",props:{style:{color:"#C9D1D9"}}}]}],lang:"json"},annotations:[]}]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Save and close your client's MCP configuration file."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Confirm that your Primeagent MCP server is on the client's list of MCP servers.\nIf necessary, restart your client to apply the modified configuration file."}),"\n"]}),"\n"]})]}),(0,s.jsxs)(c.A,{value:"auto",label:"Auto install",children:[(0,s.jsx)(n.admonition,{type:"info",children:(0,s.jsxs)(n.p,{children:["The auto install option is available only for specific MCP clients.\nAuto install requires the client to be installed locally so Primeagent can write to the client's configuration file.\nIf your client isn't supported, is installed remotely, or you need to pass additional environment variables, use the ",(0,s.jsx)(n.strong,{children:"JSON"})," option."]})}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Install ",(0,s.jsx)(n.a,{href:"https://docs.cursor.com/get-started/installation",children:"Cursor"}),", ",(0,s.jsx)(n.a,{href:"https://claude.ai/download",children:"Claude"}),", or ",(0,s.jsx)(n.a,{href:"https://windsurf.com/download/editor",children:"Windsurf"})," on the same computer where your Primeagent server is running."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Recommended: Configure ",(0,s.jsx)(n.a,{href:"#authentication",children:"authentication"})," for your MCP server."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In Primeagent, on the ",(0,s.jsx)(n.strong,{children:"Projects"})," page, click the ",(0,s.jsx)(n.strong,{children:"MCP Server"})," tab."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["On the ",(0,s.jsx)(n.strong,{children:"Auto install"})," tab, find your MCP client provider, and then click ",(0,s.jsx)(a.A,{name:"Plus","aria-hidden":"true"})," ",(0,s.jsx)(n.strong,{children:"Add"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Your Primeagent project's MCP server is automatically added to the configuration file for your local Cursor, Claude, or Windsurf client.\nFor example, with Cursor, the server configuration is added to the ",(0,s.jsx)(n.code,{children:"mcp.json"})," configuration file."]}),"\n",(0,s.jsx)(n.p,{children:"Primeagent attempts to add this configuration even if the selected client isn't installed.\nTo verify the installation, check the available MCP servers in your client."}),"\n"]}),"\n"]})]})]}),"\n",(0,s.jsxs)(n.p,{children:["Once your MCP client is connected to your Primeagent project's MCP server, your flows are registered as tools.\nCursor determines when to use tools based on your queries, and requests permissions when necessary.\nFor more information, see the MCP documentation for your client, such as ",(0,s.jsx)(n.a,{href:"https://docs.cursor.com/context/model-context-protocol",children:"Cursor's MCP documentation"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"authentication",children:"MCP server authentication"}),"\n",(0,s.jsxs)(n.p,{children:["Each ",(0,s.jsx)(n.a,{href:"/concepts-flows#projects",children:"Primeagent project"})," has its own MCP server with its own MCP server authentication settings."]}),"\n",(0,s.jsxs)(n.p,{children:["When you create a new project, Primeagent automatically configures authentication for the project's MCP server based on your Primeagent server's authentication settings. If authentication is enabled (",(0,s.jsx)(n.code,{children:"AUTO_LOGIN=false"}),"), the project is automatically configured with API key authentication, and a new API key is generated for accessing the project's flows."]}),"\n",(0,s.jsxs)(n.p,{children:["To configure authentication for a Primeagent MCP server, go to the ",(0,s.jsx)(n.strong,{children:"Projects"})," page in Primeagent, click the ",(0,s.jsx)(n.strong,{children:"MCP Server"})," tab, click ",(0,s.jsx)(a.A,{name:"Fingerprint","aria-hidden":"true"})," ",(0,s.jsx)(n.strong,{children:"Edit Auth"}),", and then select your preferred authentication method:"]}),"\n",(0,s.jsxs)(l.A,{groupId:"auth-type",children:[(0,s.jsxs)(c.A,{value:"API key",label:"API key",children:[(0,s.jsxs)(n.p,{children:["When authenticating your MCP server with a Primeagent API key, your project's MCP server ",(0,s.jsx)(n.strong,{children:"JSON"})," code snippets and ",(0,s.jsx)(n.strong,{children:"Auto install"})," configuration automatically include the ",(0,s.jsx)(n.code,{children:"--headers"})," and ",(0,s.jsx)(n.code,{children:"x-api-key"})," arguments."]}),(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(a.A,{name:"key","aria-hidden":"true"})," ",(0,s.jsx)(n.strong,{children:"Generate API key"})," to automatically insert a new Primeagent API key into the code template.\nAlternatively, you can replace ",(0,s.jsx)(n.code,{children:"YOUR_API_KEY"})," with an existing Primeagent API key."]})]}),(0,s.jsxs)(c.A,{value:"OAuth",label:"OAuth",children:[(0,s.jsxs)(n.p,{children:["When OAuth is enabled, Primeagent automatically starts an ",(0,s.jsx)(n.a,{href:"https://pypi.org/project/mcp-composer",children:"MCP Composer"})," instance for your project, creating a secure client-side proxy between MCP clients and the ",(0,s.jsx)(n.code,{children:"mcp-proxy"})," on your server."]}),(0,s.jsx)(n.p,{children:"OAuth integration allows your Primeagent MCP server to authenticate users and applications through any OAuth 2.0 compliant service. When users or applications connect to your MCP server, they are redirected to your chosen OAuth provider to authenticate. Upon successful authentication, they are granted access to your flows as MCP tools."}),(0,s.jsx)(n.p,{children:"Before configuring OAuth in Primeagent, you must first set up an OAuth application with an external OAuth 2.0 service provider.\nYou must register your Primeagent server as an OAuth client, and then obtain the required values to complete the configuration in Primeagent."}),(0,s.jsxs)(n.p,{children:["The following table describes the required values.\n",(0,s.jsx)(n.a,{href:"https://github.com/settings/developers",children:"GitHub OAuth"})," is used for example purposes.\nBe sure to use the actual values from your own deployment.\nFor more information, see your OAuth provider's documentation."]}),(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Field"}),(0,s.jsx)(n.th,{children:"Description"}),(0,s.jsx)(n.th,{children:"Source"}),(0,s.jsx)(n.th,{children:"Example"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Host"})}),(0,s.jsx)(n.td,{children:"OAuth server host"}),(0,s.jsx)(n.td,{children:"MCP Composer default."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"localhost"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Port"})}),(0,s.jsx)(n.td,{children:"OAuth server port"}),(0,s.jsx)(n.td,{children:"MCP Composer default."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"9000"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Server URL"})}),(0,s.jsx)(n.td,{children:"Full OAuth server URL"}),(0,s.jsx)(n.td,{children:"Combines the MCP Composer default OAuth host and port."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"http://localhost:9000"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Callback URL"})}),(0,s.jsx)(n.td,{children:"OAuth callback URL on your server"}),(0,s.jsx)(n.td,{children:"You define this full URL during OAuth app registration. This must match exactly what you register with your OAuth provider."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"http://localhost:9000/auth/idaas/callback"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Client ID"})}),(0,s.jsx)(n.td,{children:"Your OAuth client identifier"}),(0,s.jsx)(n.td,{children:"From your OAuth provider."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"Ov23li9vx2grVL61qjb"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Client Secret"})}),(0,s.jsx)(n.td,{children:"Your OAuth client secret"}),(0,s.jsx)(n.td,{children:"From your OAuth provider."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"1234567890abcdef1234567890abcdef12345678"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Authorization URL"})}),(0,s.jsx)(n.td,{children:"OAuth authorization endpoint"}),(0,s.jsx)(n.td,{children:"From your OAuth provider."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"https://github.com/login/oauth/authorize"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Token URL"})}),(0,s.jsx)(n.td,{children:"OAuth token endpoint for getting refresh tokens"}),(0,s.jsx)(n.td,{children:"From your OAuth provider."}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"https://github.com/login/oauth/access_token"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"MCP Scope"})}),(0,s.jsx)(n.td,{children:"Scope for MCP operations"}),(0,s.jsxs)(n.td,{children:["You define this. As of Primeagent 1.6, ",(0,s.jsx)(n.code,{children:"user"})," is the only available value."]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"user"})})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.strong,{children:"Provider Scope"})}),(0,s.jsx)(n.td,{children:"OAuth provider scope"}),(0,s.jsxs)(n.td,{children:["You define this. As of Primeagent 1.6, ",(0,s.jsx)(n.code,{children:"openid"})," is the only available value."]}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"openid"})})]})]})]}),(0,s.jsx)(n.p,{children:"To configure OAuth authentication:"}),(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Select ",(0,s.jsx)(n.strong,{children:"OAuth"})," as the authentication type."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Configure the OAuth settings with the values from your OAuth deployment.\nAll values are required."}),"\n",(0,s.jsx)(n.p,{children:"The OAuth credentials are encrypted and stored securely in your Primeagent database."}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.strong,{children:"Save"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["Your MCP server's ",(0,s.jsx)(n.strong,{children:"JSON"})," code snippets and ",(0,s.jsx)(n.strong,{children:"Auto install"})," configuration are automatically updated with OAuth values. These are automatically used for new installations after enabling OAuth. However, you must manually update any existing installations, as explained in the next step."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"If you already installed your Primeagent MCP server in your MCP client, you must update your MCP client configuration to use the new OAuth settings after enabling OAuth on your MCP server.\nThe client update method depends on how you installed the server on the client:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Auto install"}),": Manually update your client's config file using the updated JSON snippet from the ",(0,s.jsx)(n.strong,{children:"JSON"})," tab, or repeat the steps in ",(0,s.jsx)(n.a,{href:"#connect-clients-to-use-the-servers-actions",children:"Auto-install"})," to re-install the client with the updated settings."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"JSON option"}),": Copy the updated JSON snippet from the ",(0,s.jsx)(n.strong,{children:"JSON"})," tab and replace your existing configuration."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"New connections"}),": Use either the ",(0,s.jsx)(n.strong,{children:"Auto install"})," or ",(0,s.jsx)(n.strong,{children:"JSON"})," option. The OAuth settings are included automatically."]}),"\n"]}),"\n"]}),"\n"]}),(0,s.jsxs)(n.p,{children:["After you enable OAuth and update your client configuration, an OAuth callback window opens each time your MCP client attempts to authenticate with the server.\nA successful authentication returns ",(0,s.jsx)(n.code,{children:"Authentication complete. You may close this window."}),"\nIf your client doesn't open the OAuth window, try restarting the client to retrieve the updated configuration."]})]}),(0,s.jsx)(c.A,{value:"None",label:"None",children:(0,s.jsx)(n.p,{children:"When no authentication is configured, your MCP server becomes a public endpoint that anyone can access without providing credentials.\nOnly use this option when Primeagent is running in a trusted environment."})})]}),"\n",(0,s.jsx)(n.h2,{id:"mcp-server-environment-variables",children:"MCP server environment variables"}),"\n",(0,s.jsx)(n.p,{children:"The following environment variables set behaviors related to your Primeagent projects' MCP servers:"}),"\n",(0,s.jsxs)(n.table,{children:[(0,s.jsx)(n.thead,{children:(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.th,{children:"Variable"}),(0,s.jsx)(n.th,{children:"Format"}),(0,s.jsx)(n.th,{children:"Default"}),(0,s.jsx)(n.th,{children:"Description"})]})}),(0,s.jsxs)(n.tbody,{children:[(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PRIMEAGENT_MCP_SERVER_ENABLED"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"True"})}),(0,s.jsxs)(n.td,{children:["Whether to initialize an MCP server for each of your Primeagent projects. If ",(0,s.jsx)(n.code,{children:"false"}),", Primeagent doesn't initialize MCP servers."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PRIMEAGENT_MCP_SERVER_ENABLE_PROGRESS_NOTIFICATIONS"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"False"})}),(0,s.jsxs)(n.td,{children:["If ",(0,s.jsx)(n.code,{children:"true"}),", Primeagent MCP servers send progress notifications."]})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PRIMEAGENT_MCP_SERVER_TIMEOUT"})}),(0,s.jsx)(n.td,{children:"Integer"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"20"})}),(0,s.jsx)(n.td,{children:"The number of seconds to wait before an MCP server operation expires due to poor connectivity or long-running requests."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PRIMEAGENT_MCP_MAX_SESSIONS_PER_SERVER"})}),(0,s.jsx)(n.td,{children:"Integer"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"10"})}),(0,s.jsx)(n.td,{children:"Maximum number of MCP sessions to keep per unique server."})]}),(0,s.jsxs)(n.tr,{children:[(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"PRIMEAGENT_ADD_PROJECTS_TO_MCP_SERVERS"})}),(0,s.jsx)(n.td,{children:"Boolean"}),(0,s.jsx)(n.td,{children:(0,s.jsx)(n.code,{children:"True"})}),(0,s.jsxs)(n.td,{children:["Whether to automatically add newly created projects to the user's MCP servers configuration. If ",(0,s.jsx)(n.code,{children:"false"}),", projects must be manually added to MCP servers."]})]})]})]}),"\n","\n",(0,s.jsx)(n.h3,{id:"deploy-your-server-externally",children:"Deploy your Primeagent MCP server externally"}),"\n",(0,s.jsxs)(n.p,{children:["To deploy your Primeagent MCP server externally, see ",(0,s.jsx)(n.a,{href:"/deployment-public-server",children:"Deploy a public Primeagent server"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"test-and-debug-flows",children:"Use MCP Inspector to test and debug flows"}),"\n",(0,s.jsx)(n.admonition,{title:"Node prerequisite",type:"info",children:(0,s.jsxs)(n.p,{children:["MCP Inspector requires any LTS version of ",(0,s.jsx)(n.a,{href:"https://docs.npmjs.com/downloading-and-installing-node-js-and-npm",children:"Node.js"})," installed on your computer."]})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.a,{href:"https://modelcontextprotocol.io/docs/tools/inspector",children:"MCP Inspector"})," is a common tool for testing and debugging MCP servers.\nYou can use MCP Inspector to monitor your flows and get insights into how they are being consumed by the MCP server."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:"Install MCP Inspector:"}),"\n",(0,s.jsx)(p.Code,{codeConfig:x,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"npx ",props:{style:{color:"#FFA657"}}},{content:"@modelcontextprotocol/inspector",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n",(0,s.jsxs)(n.p,{children:["For more information about configuring MCP Inspector, including specifying a proxy port, see the ",(0,s.jsx)(n.a,{href:"https://github.com/modelcontextprotocol/inspector",children:"MCP Inspector GitHub project"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Open a web browser and navigate to the MCP Inspector UI.\nThe default address is ",(0,s.jsx)(n.code,{children:"http://localhost:6274"}),"."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["In the MCP Inspector UI, enter the connection details for your Primeagent project's MCP server.\nThe field values depend on your server's method of ",(0,s.jsx)(n.a,{href:"#authentication",children:"authentication"}),"."]}),"\n",(0,s.jsxs)(l.A,{groupId:"auth-type",children:[(0,s.jsx)(c.A,{value:"API key",label:"API key",default:!0,children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transport Type"}),": Select ",(0,s.jsx)(n.strong,{children:"STDIO"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Command"}),": ",(0,s.jsx)(n.code,{children:"uvx"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Arguments"}),": Enter the following list of arguments, separated by spaces. Replace the values for ",(0,s.jsx)(n.code,{children:"YOUR_API_KEY"}),", ",(0,s.jsx)(n.code,{children:"PRIMEAGENT_SERVER_ADDRESS"}),", and ",(0,s.jsx)(n.code,{children:"PROJECT_ID"})," with the values from your Primeagent MCP server. For example:","\n",(0,s.jsx)(p.Code,{codeConfig:x,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"mcp-proxy ",props:{style:{color:"#FFA657"}}},{content:"--headers ",props:{style:{color:"#79C0FF"}}},{content:"x-api-key YOUR_API_KEY http://PRIMEAGENT_SERVER_ADDRESS/api/v1/mcp/project/PROJECT_ID/streamable",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n"]}),"\n"]})}),(0,s.jsx)(c.A,{value:"OAuth",label:"OAuth",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transport Type"}),": Select ",(0,s.jsx)(n.strong,{children:"STDIO"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Command"}),": ",(0,s.jsx)(n.code,{children:"uvx"})]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Arguments"}),": Enter the following list of arguments, separated by spaces. Replace the value for ",(0,s.jsx)(n.code,{children:"OAUTH_SERVER_URL"})," with the URL of your OAuth server. For example:","\n",(0,s.jsx)(p.Code,{codeConfig:x,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"mcp-composer ",props:{style:{color:"#FFA657"}}},{content:"--mode ",props:{style:{color:"#79C0FF"}}},{content:"stdio ",props:{style:{color:"#A5D6FF"}}},{content:"--sse-url ",props:{style:{color:"#79C0FF"}}},{content:"http://localhost:9000/sse ",props:{style:{color:"#A5D6FF"}}},{content:"--disable-composer-tools --client_auth_type ",props:{style:{color:"#79C0FF"}}},{content:"oauth",props:{style:{color:"#A5D6FF"}}}]}],lang:"bash"},annotations:[]}]}),"\n"]}),"\n"]})}),(0,s.jsx)(c.A,{value:"None",label:"None",children:(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transport Type"}),": Select ",(0,s.jsx)(n.strong,{children:"SSE"}),"."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"URL"}),": Enter the Primeagent MCP server's endpoint. For example:","\n",(0,s.jsx)(p.Code,{codeConfig:x,northPanel:{tabs:[""],active:"",heightRatio:1},files:[{name:"",focus:"",code:{lines:[{tokens:[{content:"http://localhost:7860/api/v1/mcp/project/d359cbd4-6fa2-4002-9d53-fa05c645319c/streamable",props:{style:{color:"#FFA657"}}}]}],lang:"bash"},annotations:[]}]}),"\n"]}),"\n"]})})]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["Click ",(0,s.jsx)(n.strong,{children:"Connect"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:["If the connection was successful, you should see your project's flows in the ",(0,s.jsx)(n.strong,{children:"Tools"})," tab.\nFrom this tab, you can monitor how your flows are being registered as tools by MCP, as well as test the tools with custom input values."]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsxs)(n.p,{children:["To quit MCP Inspector, press ",(0,s.jsx)("kbd",{children:"Control+C"})," in the same terminal window where you started it."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"troubleshooting-mcp-server",children:"Troubleshoot Primeagent MCP servers"}),"\n",(0,s.jsxs)(n.p,{children:["For troubleshooting advice for MCP servers and clients, see ",(0,s.jsx)(n.a,{href:"/troubleshoot#mcp",children:"Troubleshoot Primeagent: MCP issues"}),"."]}),"\n",(0,s.jsx)(n.h2,{id:"see-also",children:"See also"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/mcp-client",children:"Use Primeagent as an MCP client"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/mcp-component-astra",children:"Use a DataStax Astra DB MCP server"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/environment-variables#mcp",children:"MCP server environment variables"})}),"\n"]})]})}function g(e={}){const{wrapper:n}={...(0,o.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(m,{...e})}):m(e)}function f(e,n){throw new Error("Expected "+(n?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);